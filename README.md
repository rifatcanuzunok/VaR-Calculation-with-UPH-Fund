# VaR Calculation with UPH Fund
![xx1](https://user-images.githubusercontent.com/39410518/129214973-b18781fe-66e6-49fd-bf36-ad9781aa60e1.png)
![xx2](https://user-images.githubusercontent.com/39410518/129214849-89df6766-59b5-463b-9856-a754c6b43591.png)

## Max portfolio loss over 15-day period
![var_by_day](https://user-images.githubusercontent.com/39410518/129317042-69c6f610-8dbe-4a37-833d-35fa2163e47b.png)
![var_by_day_graph](https://user-images.githubusercontent.com/39410518/129317049-4345c794-aded-42fc-af73-a4ae64c4fc36.png)



## Definition list
---
#### Value at Risk
> VAR is a probability-based measure of loss potential. It is an estimate of the minimum loss that is expected to be exceeded in a specified time period with a given level of probability. [[1]]
 
#### Diversified VaR
>  It takes into account the correlation between the assets, is the square root of the variance of the portfolio. [[2]]

#### Undiversified VaR
> Undiversified VaR is the weighted average of the individual standard deviations. [[3]]

#### Marginal VaR
> Marginal VaR measures how much risk a position adds to a portfolio. Specifically, marginal VaR measures how much portfolio VaR would change if the position were removed entirely. [[4]]

#### Expected Shortfall
> Expected shortfall, also known as conditional value at risk or cVaR, is what we expect the loss to be, on average, when a fund exceeds its VaR level. [[5]]

#### Relative VaR
> Relative VaR measures the risk of underperformance relative to a pre-defined benchmark. [[6]]

#### Incremental VaR
> Incremental value at risk is the amount of uncertainty added to or subtracted from a portfolio by purchasing or selling an investment.[[7]]


## Maximum Drawdown
![maximum_drawdown](https://user-images.githubusercontent.com/39410518/129209087-49940a38-1846-4a71-b1f6-2bf74f02f81a.png)

## Daily Returns
![daily_return](https://user-images.githubusercontent.com/39410518/129206653-e48efa85-7c3c-4b88-a28d-6504c2cacca6.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129206695-b3974981-481e-424d-9021-58a0752567e6.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129206763-cd56c047-8bb5-47bc-abcb-e2c5cb10cad5.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129206839-8a2adec7-01fc-439f-b8b2-d344b736f0a2.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129206877-861606db-dc3e-4b40-adc2-b118881a41a9.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129206905-40788766-d4f1-4f11-ad3f-6f19d5daee56.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129206936-9aa721f9-bdc6-4eab-a7d3-b6d3d7ede5be.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129206974-e21f199b-8f21-4f58-a124-24872b4a6362.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129206996-b179bea9-2b72-4b32-9678-b052611fe070.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207093-f68eac1d-cef6-4d8d-ba35-fc64ff7338f4.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207113-55c32d8a-3805-40c9-b718-a73c83b42dc5.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207135-07b5ad3c-2ea1-459a-80ba-2b60d19d8c6b.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207146-317e66f1-d4b3-4f94-8592-9f7432999815.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207161-59874222-4e9e-49d6-83a6-6631195f9d5b.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207178-17f139fe-e8e3-403b-a381-4586787e0ec7.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207201-8b40fb9b-fdc0-4d3e-ad11-30be34c66b60.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207216-1ae9319b-c0e3-4941-a554-8f6d4364a3b7.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207230-d943e951-e12f-4e07-827e-77afc26744ac.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207254-9e9d0874-b67b-4cd9-ac29-1954c72fa954.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207285-6ed08a65-9997-4501-87c9-4507ef293bbb.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207304-4f8e85c3-9d4d-4509-adfd-017bcdbbbcb0.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207323-035bf4f6-d357-4f93-baef-9358ad061564.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207344-dc746bfa-a208-4079-946d-ba5d7249d8a8.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207369-7e1ad31e-9761-4f34-9025-454e9c8ebf93.png)
![daily_return](https://user-images.githubusercontent.com/39410518/129207394-37bea09e-e9fe-48d0-b9ac-fc32c7fbf7f9.png)

## Returns vs Normal Distribution
From the below we can see the returns have all been fairly normally distributed for our chosen stocks.
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207538-6649a527-36fc-4c92-ad13-6abad8b86e86.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207568-e44d62c2-c8f9-49a4-9ed0-3998534a3de0.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207583-1e8af8a8-2f4a-4c90-8e17-f37356a60065.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207626-f9f19ab9-e011-44d7-851a-9a43d0d01c87.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207643-3b502f86-3bca-45e2-ae24-f397006afe7a.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207665-6f623e1d-6b29-4fbc-810a-f51bcc27e934.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207771-78beef45-97fe-464c-9121-5b5b3a226e98.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207824-e7238035-78cf-4b67-9742-eae389ebd190.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207868-abea33aa-b276-4615-a275-9c43179cfa99.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207891-dc1cd6b2-1732-4ea0-84ce-8e957e0dde7b.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207909-8dbc6bc5-8ab1-4306-b8f4-2133a6257a38.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207927-68607a41-da09-4169-8b69-c1d0d92368f0.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207946-c615d814-b03d-4c12-af60-49d4aa4271b0.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207959-485279ee-8139-4cc0-92b6-aaa938b579fa.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207975-97c29ced-e293-40a3-bb67-5508f7ab81a5.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129207991-629718a5-f02b-4467-8af2-1fd7277065ee.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129208001-972a45f8-0bf0-4b8a-a741-2318ccb4745f.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129208028-191acf4e-f573-495f-b19c-b862038a4e87.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129208046-83ca37bb-1248-4b8d-bbda-b9172ae68ec2.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129208063-9687ba8d-1506-4d75-9944-825e9f3258bc.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129208080-68b2ea40-37f9-498d-81fd-600f82884599.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129208097-376e5f90-9adc-49df-98e6-7d8e1285a7f0.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129208113-669d5a5a-4093-4695-88db-b512c1ff2b7f.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129208126-97f91195-15c2-4bd3-8d5f-5922ad832b78.png)
![returns_vs_normal_dist](https://user-images.githubusercontent.com/39410518/129208140-8c0cb138-c7db-44b3-82a3-79eb750c1cbc.png)

## References
http://elenamarinova.blogspot.com/2015/05/marginal-and-component-value-at-risk.html

https://github.com/nesarasr/FRM-BM40006-Spring-2021/blob/18eeef178f1480d894d3fd33b1d081756e48900b/Portfolio%20VAR/PVAR.ipynb

https://www.msci.com/documents/10199/3c2dcea9-97be-4fb4-befe-a03b75c885aa

https://www.veristrat.com/blog-valuation/value-at-risk-var/ 

http://www.yieldcurve.com/Mktresearch/LearningCurve/LearningCurve3.pdf 

https://www.northstarrisk.com/expected-shortfall 

https://www.investopedia.com/terms/i/incremental-value-at-risk.asp 

https://merage.uci.edu/~jorion/oc/case4.html

https://pyportfolioopt.readthedocs.io/en/latest/ExpectedReturns.html

http://elenamarinova.blogspot.com/2015/05/marginal-and-component-value-at-risk.html

https://ocw.mit.edu/courses/mathematics/18-s096-topics-in-mathematics-with-applications-in-finance-fall-2013/lecture-notes/MIT18_S096F13_lecnote7.pdf

https://financetrainingcourse.com/education/2012/11/value-at-risk-var-models-methods-metrics-excel-spreadsheet-walk-through/


[1]: https://www.veristrat.com/blog-valuation/value-at-risk-var/ 
[2]: http://www.yieldcurve.com/Mktresearch/LearningCurve/LearningCurve3.pdf 
[3]: http://www.yieldcurve.com/Mktresearch/LearningCurve/LearningCurve3.pdf 
[4]: https://www.msci.com/documents/10199/3c2dcea9-97be-4fb4-befe-a03b75c885aa 
[5]: https://www.northstarrisk.com/expected-shortfall 
[6]: https://www.msci.com/documents/10199/3c2dcea9-97be-4fb4-befe-a03b75c885aa 
[7]: https://www.investopedia.com/terms/i/incremental-value-at-risk.asp 
